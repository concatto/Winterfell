<!DOCTYPE html>
<html>
    <head>
        <title>Teste de cliente socket</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <button onclick='con.send("message","Teste")'> Enviar </button>
        <button onclick='con.send("get-person")'> Get Pessoa </button>
        
        <button onclick='con.send("send-person", {"nome":"Vinicius"})'> Send Pessoa </button>
        
        
        <script type="text/javascript" src="./socket.js"></script>
        <script type="text/javascript">
            
            var con = new WS();
            
            con.on("message", function(ret){
                alert("message received: "+ret);
            });
            
            con.on("get-person", function(ret){
                console.log("get-person res: ", ret);
                alert("Nome da pessoa: "+ret.nome);
            });
            
            con.on("received-person", function(person){
                alert("Pessoa recebida: "+person.nome)
            });

        </script>
    </body>
</html>
